{"is_source_file": true, "format": "Python", "description": "Django REST Framework views module defining API endpoints for health check and chat functionality, integrating with OpenAI SDK for chatbot responses.", "external_files": ["os", "typing", "rest_framework.decorators", "rest_framework.permissions", "rest_framework.response", "rest_framework", "drf_yasg.utils", "drf_yasg", "openai"], "external_methods": ["rest_framework.decorators.api_view", "rest_framework.permissions.permission_classes", "rest_framework.permissions.AllowAny", "rest_framework.renderer_classes", "rest_framework.response.Response", "rest_framework.status", "rest_framework.renderers.JSONRenderer", "drf_yasg.utils.swagger_auto_schema", "drf_yasg.openapi", "drf_yasg.openapi.Schema", "drf_yasg.openapi.TYPE_OBJECT", "drf_yasg.openapi.TYPE_STRING"], "published": ["health", "chat"], "classes": [], "methods": [{"name": "Optional[Any] _get_openai_client()", "description": "Creates an OpenAI client if the SDK is available and API key exists.", "scope": "", "scopeKind": ""}, {"name": "list _build_messages(question: str, system_prompt: Optional[str])", "description": "Constructs message list for chat completion API based on user question and optional system prompt.", "scope": "", "scopeKind": ""}, {"name": "chat(request)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health(request)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["client.chat.completions.create"], "search-terms": ["chat endpoint", "OpenAI SDK integration", "DRF API views", "health check endpoint", "chat with AI"], "state": 2, "file_id": 9, "knowledge_revision": 39, "git_revision": "6744aeab2038a731d24d2021c207a7342805cc42", "revision_history": [{"31": "6744aeab2038a731d24d2021c207a7342805cc42"}, {"39": "6744aeab2038a731d24d2021c207a7342805cc42"}], "ctags": [{"_type": "tag", "name": "OpenAI", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^    OpenAI = None  # type: ignore$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_HAS_OPENAI", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^    _HAS_OPENAI = False$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_HAS_OPENAI", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^    _HAS_OPENAI = True$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_build_messages", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^def _build_messages(question: str, system_prompt: Optional[str]) -> list:$/", "language": "Python", "typeref": "typename:list", "kind": "function", "signature": "(question: str, system_prompt: Optional[str])"}, {"_type": "tag", "name": "_get_openai_client", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^def _get_openai_client() -> Optional[Any]:$/", "language": "Python", "typeref": "typename:Optional[Any]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "chat", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^def chat(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "health", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^def health(request):$/", "language": "Python", "kind": "function", "signature": "(request)"}, {"_type": "tag", "name": "question_param", "path": "/home/kavia/workspace/code-generation/conversational-query-assistant-1326-1336/chatbot_backend/api/views.py", "pattern": "/^question_param = openapi.Schema($/", "language": "Python", "kind": "variable"}], "hash": "5983a1042dbcfafb3359fa4a2b7d15de", "format-version": 4, "code-base-name": "chatbot_backend", "filename": "chatbot_backend/api/views.py", "fields": [{"name": "OpenAI = None  # type: ignore", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_HAS_OPENAI = False", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_HAS_OPENAI = True", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "question_param = openapi.Schema(", "scope": "", "scopeKind": "", "description": "unavailable"}]}